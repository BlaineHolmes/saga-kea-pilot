# ============================================================================
# SagaOS Unified Environment Configuration
# ============================================================================
# This file contains ALL environment variables for SagaOS services
# Copy this file to .env for development or customize for production
#
# üîê SECURITY WARNING:
# - These are DEFAULT DEVELOPMENT CREDENTIALS (admin/admin)
# - CHANGE ALL CREDENTIALS before deploying to production!
# - See docs/PRODUCTION_SECURITY_GUIDE.md for security hardening
# ============================================================================

# ============================================================================
# üåê Frontend Configuration (Vite)
# ============================================================================

# Backend API base URL
# Development: http://localhost:3001/api
# Production: https://api.yourdomain.com/api
VITE_API_BASE_URL=http://localhost:3001/api

# WebSocket server URL for real-time updates
# Development: ws://localhost:3001/ws
# Production: wss://api.yourdomain.com/ws
VITE_WS_URL=ws://localhost:3001/ws

# =============================================================================
# Development Configuration
# =============================================================================

# Enable Mock Service Worker for offline development
# Set to "1" to enable MSW mocking, "0" or remove to disable
# Only used in development mode
VITE_USE_MSW=0

# =============================================================================
# Application Configuration
# =============================================================================

# Application version (optional)
# Used for display purposes and debugging
VITE_APP_VERSION=1.0.0

# Environment name (optional)
# Used for display and conditional features
VITE_ENVIRONMENT=development

# =============================================================================
# Feature Flags (Optional)
# =============================================================================

# Enable debug mode for additional logging
# Set to "1" to enable, "0" or remove to disable
VITE_DEBUG=0

# Enable experimental features
# Set to "1" to enable, "0" or remove to disable
VITE_EXPERIMENTAL_FEATURES=0

# =============================================================================
# Integration Configuration
# =============================================================================

# Kea Control Agent URL (for direct CA access)
# Only used when API Gateway is not available
# Development: http://localhost:8000
VITE_KEA_CA_URL=http://localhost:8000

# BIND DNS server management URL (optional)
# Used for direct BIND integration if available
VITE_BIND_URL=http://localhost:953

# DNS Management Configuration
# DNS API endpoints (via API Gateway)
VITE_DNS_API_URL=http://localhost:3001/api/dns

# DDNS Configuration
VITE_DDNS_ENABLED=1
VITE_DDNS_FORWARD_ZONE=lan.sagaos.local
VITE_DDNS_REVERSE_ZONE=0.10.in-addr.arpa

# =============================================================================
# Security Configuration
# =============================================================================

# CSRF token cookie name (optional)
# Should match backend configuration
VITE_CSRF_COOKIE_NAME=csrf-token

# Session timeout in minutes (optional)
# Used for automatic logout warnings
VITE_SESSION_TIMEOUT=60

# =============================================================================
# UI Configuration
# =============================================================================

# Default theme (light|dark|system)
VITE_DEFAULT_THEME=system

# Enable animations (optional)
# Set to "0" to disable animations for better performance
VITE_ENABLE_ANIMATIONS=1

# Page size for pagination (optional)
VITE_DEFAULT_PAGE_SIZE=25

# =============================================================================
# Monitoring Configuration (Optional)
# =============================================================================

# Analytics/monitoring service URL
# VITE_ANALYTICS_URL=

# Error reporting service URL
# VITE_ERROR_REPORTING_URL=

# Performance monitoring
# VITE_PERFORMANCE_MONITORING=0

# ============================================================================
# üñ•Ô∏è Backend Configuration (Node.js/Express)
# ============================================================================

# Server Configuration
PORT=3001
HOST=0.0.0.0
NODE_ENV=development

# ============================================================================
# üîê Authentication & Security (DEFAULT: admin/admin)
# ============================================================================

# JWT Configuration
JWT_SECRET=your-jwt-secret-change-in-production-please
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Default Admin Credentials (CHANGE FOR PRODUCTION!)
AUTH_PROVIDER=local
AUTH_ADMIN_USERNAME=admin
AUTH_ADMIN_PASSWORD=admin
AUTH_ADMIN_EMAIL=admin@sagaos.com
AUTH_ADMIN_DISPLAY_NAME=Administrator

# CORS Configuration
CORS_ORIGIN=http://localhost:5173
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_DNS_MAX_REQUESTS=50

# Security Headers
SECURE_COOKIES=false
TRUST_PROXY=false
HELMET_ENABLED=true

# ============================================================================
# üóÑÔ∏è Database Configuration (PostgreSQL)
# ============================================================================

# PostgreSQL Database (DEFAULT: admin/admin)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=kea
DB_USER=admin
DB_PASSWORD=admin
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# Database Connection String (alternative to individual settings)
# DATABASE_URL=postgresql://admin:admin@localhost:5432/kea

# ============================================================================
# üè† Kea DHCP Configuration
# ============================================================================

# Kea Control Agent (DEFAULT: admin/admin)
KEA_CA_URL=http://127.0.0.1:8000
KEA_CA_USER=admin
KEA_CA_PASSWORD=admin

# Kea Configuration Paths
KEA_CONFIG_DIR=/etc/kea
KEA_DHCP4_CONFIG=/etc/kea/kea-dhcp4.conf
KEA_CTRL_AGENT_CONFIG=/etc/kea/kea-ctrl-agent.conf

# ============================================================================
# üåê DNS Configuration (BIND9)
# ============================================================================

# BIND9 DNS Server Configuration
DNS_SERVER=127.0.0.1
DNS_PORT=53
DNS_TSIG_KEY_NAME=sagaos-ddns-key
DNS_TSIG_KEY_FILE=/etc/bind/keys/sagaos-ddns-key.key
DNS_TSIG_SECRET=YWRtaW5hZG1pbmFkbWluYWRtaW5hZG1pbmFkbWluYWRtaW5hZG1pbg==
DNS_ZONE_DIR=/var/lib/bind
DNS_NAMED_CONF_LOCAL=/etc/bind/named.conf.local

# BIND9 Control Channel (rndc)
DNS_RNDC_HOST=127.0.0.1
DNS_RNDC_PORT=953
DNS_RNDC_KEY=rndc-key
DNS_RNDC_SECRET=YWRtaW5hZG1pbmFkbWluYWRtaW5hZG1pbmFkbWluYWRtaW5hZG1pbg==

# DDNS Configuration
DDNS_D2_URL=http://127.0.0.1:53001
DDNS_FORWARD_ZONE=lan.sagaos.local
DDNS_REVERSE_ZONE=0.10.in-addr.arpa
DDNS_ENABLED=true

# External DNS Resolvers
EXTERNAL_DNS_RESOLVER=1.1.1.1
BACKUP_DNS_RESOLVER=9.9.9.9

# ============================================================================
# üê≥ Docker Configuration
# ============================================================================

# Docker Compose Configuration
COMPOSE_PROJECT_NAME=sagaos
COMPOSE_FILE=docker-compose.yml

# Container Configuration
FRONTEND_IMAGE=sagaos/frontend:latest
BACKEND_IMAGE=sagaos/backend:latest
POSTGRES_IMAGE=postgres:15-alpine

# ============================================================================
# üìä Monitoring & Logging
# ============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/var/log/sagaos/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# ============================================================================
# üîß Development Features
# ============================================================================

# Development Features
DEV_MOCK_AUTH=false
DEV_BYPASS_RBAC=false
DEV_VERBOSE_LOGGING=true
DEV_AUTO_RELOAD=true

# Performance
COMPRESSION_ENABLED=true
CACHE_TTL=300

# ============================================================================
# üåç Network Configuration
# ============================================================================

# Network Settings
DOMAIN=sagaos.local
NETWORK_INTERFACE=eth0
NETWORK_SUBNET=10.0.0.0/16
GATEWAY_IP=10.0.0.1
DNS_IP=10.0.0.53

# SSL/TLS Configuration
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/sagaos.crt
SSL_KEY_PATH=/etc/ssl/private/sagaos.key

# ============================================================================
# üìù Notes & Security Reminders
# ============================================================================
#
# üîê SECURITY REMINDERS:
# 1. Change ALL default passwords before production deployment
# 2. Generate strong JWT secrets: openssl rand -base64 64
# 3. Use proper SSL certificates in production
# 4. Configure firewall rules appropriately
# 5. Review and update CORS origins for production
# 6. Enable secure cookies and HTTPS in production
# 7. Regularly rotate TSIG keys and passwords
#
# üìö DOCUMENTATION:
# - Production Security: docs/PRODUCTION_SECURITY_GUIDE.md
# - Installation Guide: docs/INSTALLATION.md
# - API Documentation: docs/API_CONTRACTS.md
#
# üÜò SUPPORT:
# - Logs: /var/log/sagaos/
# - Health Check: http://localhost:3001/api/health
# - Service Status: systemctl status sagaos-*
#
# Environment Variable Naming:
# - Frontend variables must start with VITE_
# - Backend variables don't need prefixes
# - All VITE_ variables are exposed to the browser
# - Use backend environment variables for secrets and API keys
#
# Development vs Production:
# - Use .env for local development
# - Use environment-specific overrides for production
# - Docker deployments can override these with container environment variables
#
# ============================================================================
